
@{
    ViewBag.Title = "Insertar";
}

<!-- begin #content -->
<div id="content" class="content" style="margin-top:-30px !important;">
    <!-- begin row -->
    <div class="row">
        <!-- begin col-12 -->
        <div class="col-md-12">
            <!-- begin panel -->
            <div class="panel panel-inverse">
                <div class="panel-body">

                    <div id="wizard">
                        <ol>
                            <li>
                                VENTA TOUR
                                <small>Ventas  Tour a  Realizar...</small>
                            </li>
                            <li>
                                VENTA PAQUETE
                                <small>Ventas  Paquete a  Realizar...</small>
                            </li>
                            <li>
                                CANCELACION DE VENTA
                                <small>Cancela venta(Tour o Pquete)</small>
                            </li>
                        </ol>
                        <!-- begin wizard step-1 -->
                        <div>
                            <form action="@Url.Action("InsertarTour", "Venta" )" method="POST">
                                <fieldset>
                                    @*<legend class="pull-left width-full"></legend>*@
                                    <!-- begin row -->
                                    <div class="row">
                                        <!-- begin col-4 -->
                                        <div class="form-group">

                                            <div class="col-md-1">
                                            </div>

                                            <div class="col-md-2">
                                                <label>Fecha Venta </label>
                                                <div class="input-group date" id="FechaVentat">
                                                    <input type="text" name="fechaVentat" class="form-control input-sm" />
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </span>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <label>Seleccione Agencia</label>
                                                <select class="form-control input-sm" id="idAgencia" name="idAgencia" onchange="SelectAgencia('idTour', {id:  document.getElementById('idAgencia').value}, '@Url.Action("LlenaTour", "VentaCat")', 'POST', null, null, false, true);">
                                                    <option value="-1" disabled="" selected="">-Seleccione Agencia-</option>
                                                    @foreach (var item in ViewBag.listaAgencia)
                                                    {

                                                        <option value="@item.idAgencia">@item.nombre</option>

                                                    }
                                                </select>
                                            </div>

                                            <div class="col-md-4">
                                                <label>Seleccione Tour</label>
                                                <select class="form-control input-sm" id="idTour" name="idTour"></select>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end row -->
                                    <br />
                                    <div class="row">
                                        <div class="form-group">

                                            <div class="col-md-1">
                                            </div>

                                            <div class="col-md-2">
                                                <label>Costo Alta</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input type="text" class="form-control input-sm" id="costoVentaax" name="costoVentaax" value="" readonly="readonly">
                                                    <span class="input-group-addon"><input type="checkbox" name="alta" id="alta"></span>
                                                </div>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Costo Baja</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input type="text" class="form-control input-sm" id="costoVentaag" name="costoVentaag" value="" readonly="readonly">
                                                    <span class="input-group-addon"><input type="checkbox" name="baja" id="baja"></span>
                                                </div>
                                            </div>

                                            <div class="col-md-1">
                                                <label>Adultos</label>
                                                <div class="input-group">
                                                    <input type="text" class="form-control input-sm" id="adultost" name="adultost">
                                                    <span class="input-group-addon">
                                                        <span class="fa  fa-user"></span>
                                                    </span>
                                                </div>
                                            </div>

                                            <div class="col-md-1">
                                                <label>Niños</label>
                                                <div class="input-group">
                                                    <input type="text" class="form-control input-sm" id="ninost" name="ninost">
                                                    <span class="input-group-addon">
                                                        <span class="fa  fa-child"></span>
                                                    </span>
                                                </div>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Pax Total</label>
                                                <div class="input-group">
                                                    <input type="text" class="form-control input-sm" id="paxt" name="paxt" readonly="readonly">
                                                    <span class="input-group-addon">
                                                        <span class="fa fa-plus"></span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br />
                                    <!-- begin row -->
                                    <div class="row">
                                        <!-- begin col-4 -->
                                        <div class="form-group">

                                            <div class="col-md-1">
                                            </div>

                                            <div class="col-md-2">
                                                <label>Fecha Inicio</label>
                                                <div class="input-group date" id="FechaIniciot">
                                                    <input type="text" class="form-control input-sm" id="fechaIniciot" name="fechaIniciot" />
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </span>
                                                </div>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Fecha Final</label>
                                                <div class="input-group date" id="FechaFinalt">
                                                    <input type="text" class="form-control input-sm" id="fechaFint" name="fechaFint" />
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </span>
                                                </div>
                                            </div>


                                            <div class="col-md-4">
                                                <label>Nombre Cliente</label>
                                                <input type="text" class="form-control input-sm" id="clientet" name="clientet" />
                                            </div>

                                            <div class="col-md-2">
                                                <label>Telefono Cliente</label>
                                                <input type="text" class="form-control input-sm" id="masked-input-phone" name="telefonot" placeholder="(961) 999-9999">
                                            </div>


                                        </div>
                                    </div>
                                    <!-- end row -->
                                    <br />
                                    <!-- begin row -->
                                    <div class="row">
                                        <!-- begin col-4 -->
                                        <div class="form-group">
                                            <div class="col-md-1">

                                            </div>
                                            <div class="col-md-2">
                                                <label>Correo Cliente</label>
                                                <input type="text" class="form-control input-sm" id="correot" name="correot">
                                            </div>

                                            <div class="col-md-4">
                                                <label>Recoger en...</label>
                                                <input type="text" class="form-control input-sm" id="recogert" name="recogert">
                                            </div>

                                            <div class="col-md-4">
                                                <label>Observaciones...</label>
                                                <input type="text" class="form-control input-sm" id="observacionest" name="observacionest">
                                            </div>

                                        </div>
                                    </div>
                                    <!-- end row -->
                                    <br />
                                    <!-- begin row -->
                                    <div class="row">
                                        <!-- begin col-4 -->
                                        <div class="form-group">

                                            <div class="col-md-1">

                                            </div>

                                            <div class="col-md-2">
                                                <label>Forma de Pago</label>
                                                <select class="form-control input-sm" id="idFormaPagot" name="idFormaPagot">
                                                    <option value="-1" disabled="" selected=""></option>
                                                    @foreach (var item in ViewBag.listaFormaPago)
                                                    {
                                                        <option value="@item.idFormaPago">@item.descripcion</option>
                                                    }
                                                </select>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Banco</label>
                                                <select class="form-control input-sm" id="bancot" name="bancot">
                                                    <option></option>
                                                </select>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Total</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input type="text" class="form-control input-sm" id="totalt" name="totalt" readonly="readonly">
                                                    <span class="input-group-addon">.00</span>
                                                </div>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Anticipo o Finiquito</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input type="text" class="form-control input-sm" id="anticipot" name="anticipot">
                                                    <span class="input-group-addon">.00</span>
                                                </div>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Adeudo</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input type="text" class="form-control input-sm" id="adeudot" name="adeudot" readonly="readonly">
                                                    <span class="input-group-addon">.00</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    @*<div class="col-md-2">
                                        <label>Referencia</label>
                                        <div class="input-group">
                                            <span class="input-group-addon">$</span>
                                            <input type="text" class="form-control input-sm" id="referenciat" name="referenciat" value="">
                                            <span class="input-group-addon">.00</span>
                                        </div>
                                    </div>*@
                                    @*<div class="col-md-4">
                                        <label>Observaciones...</label>
                                        <input type="text" class="form-control input-sm" id="observacionest" name="observacionest">
                                    </div>*@

                                    <!-- end row -->
                                    <br />
                                    <div class="row">
                                        <div class="form-group">
                                            <div class="col-md-1">

                                            </div>
                                            <div class="col-md-2">
                                                <button type="submit" class="btn btn-primary btn-sm m-r-5">Agregar</button>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                        <!-- end wizard step-1 -->
                        <!-- begin wizard step-2 -->
                        <div>
                            <form action="@Url.Action("InsertarPaquete", "Venta" )" method="POST">
                                <fieldset>
                                    @*<legend class="pull-left width-full"></legend>*@
                                    <!-- begin row -->
                                    <div class="row">
                                        <!-- begin col-4 -->
                                        <div class="form-group">

                                            @*<div class="col-md-2">
                                                    <label>Fecha Venta </label>
                                                    <div class="input-group date" id="FechaVentap">
                                                        <input type="text" name="fechaVentap" class="form-control input-sm" />
                                                        <span class="input-group-addon">
                                                            <span class="glyphicon glyphicon-calendar"></span>
                                                        </span>
                                                    </div>
                                                </div>*@

                                            <div class="col-md-6">
                                                <label>Seleccione Paquete</label>
                                                <select class="form-control input-sm" id="idPaquete" name="idPaquete" onchange="paginaAjaxVenta('data-table', {id: this.value}, '@Url.Action("TblPaquete", "Venta")', 'POST', null, null, false, true);">
                                                    <option value="-1" disabled="" selected=""></option>
                                                    @*@foreach (var item in ViewBag.listaPaquete)
                                                        {
                                                            <option value="@item.idPaquete" data-costo="@item.costoMexica" data-npax="@item.npax" data-extra="@item.gastoExtra">@item.paquete</option>
                                                        }*@
                                                </select>
                                            </div>

                                            @*<div class="col-md-2">
                                                    <label>Costo Venta</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon">$</span>
                                                        <input type="text" class="form-control input-sm" id="costoVentap" name="costoVentap" value="" readonly="readonly">
                                                        <span class="input-group-addon">.00</span>
                                                    </div>
                                                </div>

                                                <div class="col-md-2">
                                                    <label>Pax Incluidos</label>
                                                    <div class="input-group">
                                                        <input type="text" class="form-control input-sm" id="nPaxp" name="nPaxp" readonly="readonly">
                                                        <span class="input-group-addon">
                                                            <span class="fa fa-plus"></span>
                                                        </span>
                                                    </div>
                                                </div>*@

                                        </div>
                                    </div>
                                    <!-- end row -->
                                    <br />
                                    <!-- begin row -->
                                    <div class="row">
                                        @*<div class="form-group">
                                                <div class="col-md-2">
                                                    <label>Extra por Persona</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon">$</span>
                                                        <input type="text" id="gastoExtrap" name="gastoExtrap" class="form-control input-sm" readonly="readonly">
                                                        <span class="input-group-addon">.00</span>
                                                    </div>
                                                </div>

                                                <div class="col-md-1">
                                                    <label>Adultos</label>
                                                    <div class="input-group">
                                                        <input type="text" class="form-control input-sm" id="adultosp" name="adultosp">
                                                        <span class="input-group-addon">
                                                            <span class="fa  fa-user"></span>
                                                        </span>
                                                    </div>
                                                </div>

                                                <div class="col-md-1">
                                                    <label>Niños</label>
                                                    <div class="input-group">
                                                        <input type="text" class="form-control input-sm" id="ninosp" name="ninosp">
                                                        <span class="input-group-addon">
                                                            <span class="fa  fa-child"></span>
                                                        </span>
                                                    </div>
                                                </div>

                                                <div class="col-md-2">
                                                    <label>Total Costo Extra</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon">$</span>
                                                        <input type="text" id="totalExtrap" name="totalExtrap" class="form-control input-sm" value="0" readonly="readonly">
                                                        <span class="input-group-addon">.00</span>
                                                    </div>
                                                </div>


                                                <div class="col-md-2">
                                                    <label>Pax Total</label>
                                                    <div class="input-group">
                                                        <input type="text" class="form-control input-sm" id="paxp" name="paxp" readonly="readonly">
                                                        <span class="input-group-addon">
                                                            <span class="fa fa-plus"></span>
                                                        </span>
                                                    </div>
                                                </div>

                                                <div class="col-md-2">
                                                    <label>Total a Pagar</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon">$</span>
                                                        <input type="text" id="totalp" name="totalp" class="form-control input-sm" readonly="readonly">
                                                        <span class="input-group-addon">.00</span>
                                                    </div>
                                                </div>

                                                <div class="col-md-2">
                                                    <label>Costo Vendido</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon">$</span>
                                                        <input type="text" id="costoVendidop" name="costoVendidop" class="form-control input-sm">
                                                        <span class="input-group-addon">.00</span>
                                                    </div>
                                                </div>
                                            </div>*@
                                    </div>
                                    <!-- end row -->
                                    <br />
                                    <!-- begin row -->
                                    <div class="row">
                                        <!-- begin col-4 -->
                                        @*<div class="form-group">

                                                <div class="col-md-2">
                                                    <label>Fecha Inicio</label>
                                                    <div class="input-group date" id="FechaIniciop">
                                                        <input type="text" class="form-control input-sm" id="fechaIniciop" name="fechaIniciop" />
                                                        <span class="input-group-addon">
                                                            <span class="glyphicon glyphicon-calendar"></span>
                                                        </span>
                                                    </div>
                                                </div>

                                                <div class="col-md-2">
                                                    <label>Fecha Final</label>
                                                    <div class="input-group date" id="FechaFinalp">
                                                        <input type="text" class="form-control input-sm" id="fechaFinp" name="fechaFinp" />
                                                        <span class="input-group-addon">
                                                            <span class="glyphicon glyphicon-calendar"></span>
                                                        </span>
                                                    </div>
                                                </div>


                                                <div class="col-md-4">
                                                    <label>Nombre Cliente</label>
                                                    <input type="text" class="form-control input-sm" id="clientep" name="clientep" />
                                                </div>

                                                <div class="col-md-2">
                                                    <label>Telefono Cliente</label>
                                                    <input type="text" class="form-control input-sm" name="telefonop" placeholder="(961) 000-0000">
                                                </div>

                                                <div class="col-md-2">
                                                    <label>Correo Cliente</label>
                                                    <input type="text" class="form-control input-sm" id="correop" name="correop">
                                                </div>

                                            </div>*@
                                    </div>
                                    <!-- end row -->
                                    <br />
                                    <!-- begin row -->
                                    <div class="row">
                                        <!-- begin col-4 -->
                                        <div class="form-group">

                                            <div class="col-md-6">
                                                <label>Recoger en...</label>
                                                <input type="text" class="form-control input-sm" id="recogerp" name="recogerp">
                                            </div>

                                            <div class="col-md-6">
                                                <label>Observaciones...</label>
                                                <input type="text" class="form-control input-sm" id="observacionesp" name="observacionesp">
                                            </div>

                                        </div>
                                    </div>
                                    <!-- end row -->
                                    <br />
                                    <!-- begin row -->
                                    <div class="row">
                                        <!-- begin col-4 -->
                                        <div class="form-group">

                                            <div class="col-md-2">
                                                <label>Forma de Pago</label>
                                                <select class="form-control input-sm" id="idFormaPagop" name="idFormaPagop">
                                                    <option value="-1" disabled="" selected=""></option>
                                                    @foreach (var item in ViewBag.listaFormaPago)
                                                    {
                                                        <option value="@item.idFormaPago">@item.descripcion</option>
                                                    }
                                                </select>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Banco</label>
                                                <select class="form-control input-sm" id="bancop" name="bancop">
                                                    <option></option>
                                                </select>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Total</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input type="text" class="form-control input-sm" id="totalpF" name="totalpF" readonly="readonly">
                                                    <span class="input-group-addon">.00</span>
                                                </div>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Anticipo</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input type="text" class="form-control input-sm" id="anticipop" name="anticipop">
                                                    <span class="input-group-addon">.00</span>
                                                </div>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Adeudo</label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input type="text" class="form-control input-sm" id="saldop" name="saldop" readonly="readonly">
                                                    <span class="input-group-addon">.00</span>
                                                </div>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Referencia</label>
                                                <div class="input-group">
                                                    <input type="text" class="form-control input-sm" id="referenciap" name="referenciap">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end row -->
                                    <br />
                                    <div class="row">
                                        <div class="form-group">
                                            <div class="col-md-2">
                                                <button type="submit" class="btn btn-primary btn-sm m-r-5">Agregar</button>
                                            </div>
                                        </div>
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="form-group">
                                            <div class="col-md-12">
                                                <table id="data-table" class="table table-striped table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <th>Tour</th>
                                                            <th>Detalle</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="body-data-table">
                                                        @*@foreach (var item in ViewBag.listaPaqueteTour)
                                                            {
                                                                <tr>
                                                                    <td>@item.idPaquete</td>
                                                                    <td>@item.parenTour.tour</td>
                                                                    <td>@(item.estatus ? "Activo" : "Inactivo")</td>
                                                                    <td>
                                                                            <input type="button" class="btn btn-sm btn-primary m-r-5 fa fa-save" value="Modificar" />
                                                                        </td>
                                                                </tr>
                                                            }*@
                                                    </tbody>
                                                </table>

                                            </div>
                                        </div>
                                        @*<div class="form-group">
                                                <div class="col-md-12">
                                                    <table id="data-table" class="display">
                                                        <thead>
                                                            <tr>
                                                                <th>ID</th>
                                                                <th>Company name</th>
                                                                <th>Address</th>
                                                                <th>Town</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>
                                                </div>
                                            </div>*@
                                    </div>

                                </fieldset>
                            </form>
                        </div>
                        <!-- end wizard step-2 -->
                        <!-- begin wizard step-3 -->
                        <div>
                            @* <form action="@Url.Action("InsertarPaquete", "Venta" )" method="POST">*@
                            <fieldset>
                                <!-- begin row -->
                                <div class="row">
                                    <!-- begin col-4 -->
                                    <div class="form-group col-md-5">
                                        <div class="input-group m-b-20">
                                            <input type="text" class="form-control input-white" placeholder="Ingrese Nombre a Buscar..." />
                                            <div class="input-group-btn">
                                                <button type="button" class="btn btn-inverse"><i class="fa fa-search"></i> Buscar</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="form-group">
                                        <div class="col-md-12">
                                            <table id="data-table_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                                                <thead>
                                                    <tr>
                                                        <th>Tipo</th>
                                                        <th>Nombre</th>
                                                        <th>Fecha</th>
                                                        <th>Estatus</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="body-data-table"></tbody>
                                            </table>

                                        </div>
                                    </div>
                                    @*<div class="form-group">
                                            <div class="col-md-12">
                                                <table id="data-table" class="display">
                                                    <thead>
                                                        <tr>
                                                            <th>ID</th>
                                                            <th>Company name</th>
                                                            <th>Address</th>
                                                            <th>Town</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                            </div>
                                        </div>*@
                                </div>

                            </fieldset>
                            @*</form>*@
                        </div>
                        <!-- end wizard step-3 -->
                        <!-- begin wizard step-4 -->
                        @*<div>
                                <div class="jumbotron m-b-0 text-center">
                                    <h1>Login Successfully</h1>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris consequat commodo porttitor. Vivamus eleifend, arcu in tincidunt semper, lorem odio molestie lacus, sed malesuada est lacus ac ligula. Aliquam bibendum felis id purus ullamcorper, quis luctus leo sollicitudin. </p>
                                    <p><a class="btn btn-success btn-lg" role="button">Proceed to User Profile</a></p>
                                </div>
                            </div>*@
                        <!-- end wizard step-4 -->

                    </div>
                </div>
            </div>
            <!-- end panel -->
        </div>
        <!-- end col-12 -->
    </div>
    <!-- end row -->
</div>
<!-- end #content -->
@*<script src="~/Content/template/assets/plugins/jquery/jquery-1.9.1.min.js"></script>*@
@*<script>
        //$(document).ready(function () {

        //});

        //function paginaAjax() {
        //    $.ajax({
        //        type: "POST",
        //        dataType: 'text',
        //        url: '/Venta/VerTabla/',
        //        data: {
        //            id: 1
        //        },
        //        error: function (xhr) {
        //            alert('Error: ' + xhr.statusText);
        //        },
        //        success: function (result) {
        //            alert("success");
        //        },
        //        async: true
        //    });
        //}

        //    //if ((typeof preFunction) == 'function') {
        //    //    preFunction();
        //    //}
        //    //$.ajax(
        //    //{
        //    //    url: url,
        //    //    type: method,
        //    //    data: { 'idPaqueteDetalles': 2 },
        //    //    dataType: 'json',
        //    //    contentType: 'application/json; charset=utf-8',
        //    //    error: function (xhr) {
        //    //        alert('Error: ' + xhr.statusText);
        //    //    },
        //    //    success: function (result) {
        //    //        alert("success");
        //    //    },
        //    //    cache: cache,
        //    //    async: async
        //    //}).done(function (pagina) {
        //    //    $('#' + idSeccion).html(pagina);
        //    //    if ((typeof postFunction) == 'function') {
        //    //        //postFunction();
        //    //    }
        //    //}).fail(function () {
        //    //    //$('#divModalCargaAjax').hide();
        //    //    //$('#' + idSeccion).html('<div class="divAlertaRojo">Ocurrió un error inesperado. Por favor reporte esto a la plataforma o al correo "ovallesoft@gmail.com". Pedimos disculpas y damos gracias por su comprensión.</div>');
        //    //});
        //}
    </script>*@


